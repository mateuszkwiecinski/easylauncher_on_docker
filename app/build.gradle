import java.awt.Font

tasks.register("loadFont", TestTask) {
    fontFile = rootProject.file("Roboto-Regular.ttf")
}

abstract class TestTask extends DefaultTask {

    @InputFile
    abstract File fontFile

    @TaskAction
    def execute() {
        def stream = new FileInputStream(fontFile)
        def font = Font.createFont(Font.TRUETYPE_FONT, stream)
        stream.close()
        println("Loaded font=${fontFile}, font=$font")
    }
}